define("mod_tracker/tracker_watches",["jquery","core/config","core/str","core/log"],(function($,cfg,str,log){return{init:function(){$(".tracker-events-prefs").bind("click",this.updatewatch),log.debug("AMD Tracker watch prefs initialized")},updatewatch:function(){var that=$(this),parts=that.attr("id").match(/(\d+)-(\d+)-(\w+)-(\w+)/),cmid=parts[1],watchid=parts[2],event=parts[3],state=parts[4],url=cfg.wwwroot+"/mod/tracker/ajax/service.php";url+="?id="+cmid,url+="&what=updatewatch",url+="&ccid="+watchid,url+="&event="+event,url+="&state="+state,url+="&sesskey="+cfg.sesskey,$.get(url,(function(){var elmid="#watch-"+event+"-"+watchid+"-img";1!=state?$(elmid).addClass("tracker-shadow"):$(elmid).removeClass("tracker-shadow");var nextstate=state?0:1;that.attr("id",cmid+"-"+watchid+"-"+event+"-"+nextstate)}),"html")}}}));

//# sourceMappingURL=tracker_watches.min.js.map