!function(a,b){void 0===a&&void 0!==window&&(a=window),"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(a){"use strict";function b(b,c){var d=b.nodeName.toLowerCase();if(-1!==a.inArray(d,c))return-1===a.inArray(d,k)||Boolean(b.nodeValue.match(m)||b.nodeValue.match(n));for(var e=a(c).filter(function(a,b){return b instanceof RegExp}),f=0,g=e.length;f<g;f++)if(d.match(e[f]))return!0;return!1}function c(a,c,d){if(d&&"function"==typeof d)return d(a);for(var e=Object.keys(c),f=0,g=a.length;f<g;f++)for(var h=a[f].querySelectorAll("*"),i=0,j=h.length;i<j;i++){var k=h[i],l=k.nodeName.toLowerCase();if(-1!==e.indexOf(l))for(var m=[].slice.call(k.attributes),n=[].concat(c["*"]||[],c[l]||[]),o=0,p=m.length;o<p;o++){var q=m[o];b(q,n)||k.removeAttribute(q.nodeName)}else k.parentNode.removeChild(k)}}function d(a){var b,c=[],d=a.selectedOptions;if(a.multiple)for(var e=0,f=d.length;e<f;e++)b=d[e],c.push(b.value||b.text);else c=a.value;return c}function e(a,b,c,d){for(var e=["display","subtext","tokens"],f=!1,g=0;g<e.length;g++){var i=e[g],j=a[i];if(j&&(j=j.toString(),"display"===i&&(j=j.replace(/<[^>]+>/g,"")),d&&(j=h(j)),j=j.toUpperCase(),f="contains"===c?0<=j.indexOf(b):j.startsWith(b)))break}return f}function f(a){return parseInt(a,10)||0}function g(a){return D[a]}function h(a){return(a=a.toString())&&a.replace(E,g).replace(F,"")}function i(b){var c,d=arguments,e=b;if([].shift.apply(d),!O.success){try{O.full=(a.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(b){$.BootstrapVersion?O.full=$.BootstrapVersion.split(" ")[0].split("."):(O.full=[O.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",b))}O.major=O.full[0],O.success=!0}if("4"===O.major){var f=[];$.DEFAULTS.style===R.BUTTONCLASS&&f.push({name:"style",className:"BUTTONCLASS"}),$.DEFAULTS.iconBase===R.ICONBASE&&f.push({name:"iconBase",className:"ICONBASE"}),$.DEFAULTS.tickIcon===R.TICKICON&&f.push({name:"tickIcon",className:"TICKICON"}),R.DIVIDER="dropdown-divider",R.SHOW="show",R.BUTTONCLASS="btn-light",R.POPOVERHEADER="popover-header",R.ICONBASE="",R.TICKICON="bs-ok-default";for(var g=0;g<f.length;g++)b=f[g],$.DEFAULTS[b.name]=R[b.className]}var h=this.each(function(){var b=a(this);if(b.is("select")){var f=b.data("selectpicker"),g="object"==typeof e&&e;if(f){if(g)for(var h in g)g.hasOwnProperty(h)&&(f.options[h]=g[h])}else{var i=b.data();for(var k in i)i.hasOwnProperty(k)&&-1!==a.inArray(k,j)&&delete i[k];var l=a.extend({},$.DEFAULTS,a.fn.selectpicker.defaults||{},i,g);l.template=a.extend({},$.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},i.template,g.template),b.data("selectpicker",f=new $(this,l))}"string"==typeof e&&(c=f[e]instanceof Function?f[e].apply(f,d):f.options[e])}});return void 0!==c?c:h}var j=["sanitize","whiteList","sanitizeFn"],k=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],l={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},m=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;"classList"in document.createElement("_")||function(b){if("Element"in b){var c="classList",d="prototype",e=b.Element[d],f=Object,g=function(){var b=a(this);return{add:function(a){return a=Array.prototype.slice.call(arguments).join(" "),b.addClass(a)},remove:function(a){return a=Array.prototype.slice.call(arguments).join(" "),b.removeClass(a)},toggle:function(a,c){return b.toggleClass(a,c)},contains:function(a){return b.hasClass(a)}}};if(f.defineProperty){var h={get:g,enumerable:!0,configurable:!0};try{f.defineProperty(e,c,h)}catch(b){void 0!==b.number&&-2146823252!==b.number||(h.enumerable=!1,f.defineProperty(e,c,h))}}else f[d].__defineGetter__&&e.__defineGetter__(c,g)}}(window);var o,p,q,r=document.createElement("_");if(r.classList.add("c1","c2"),!r.classList.contains("c2")){var s=DOMTokenList.prototype.add,t=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,s.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,t.bind(this))}}if(r.classList.toggle("c3",!1),r.classList.contains("c3")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:u.call(this,a)}}r=null,String.prototype.startsWith||(o=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(a){}return c}(),p={}.toString,q=function(a){if(null==this)throw new TypeError;var b=String(this);if(a&&"[object RegExp]"==p.call(a))throw new TypeError;var c=b.length,d=String(a),e=d.length,f=1<arguments.length?arguments[1]:void 0,g=f?Number(f):0;g!=g&&(g=0);var h=Math.min(Math.max(g,0),c);if(c<e+h)return!1;for(var i=-1;++i<e;)if(b.charCodeAt(h+i)!=d.charCodeAt(i))return!1;return!0},o?o(String.prototype,"startsWith",{value:q,configurable:!0,writable:!0}):String.prototype.startsWith=q),Object.keys||(Object.keys=function(a,b,c){for(b in c=[],a)c.hasOwnProperty.call(a,b)&&c.push(b);return c}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var v={useDefault:!1,_set:a.valHooks.select.set};a.valHooks.select.set=function(b,c){return c&&!v.useDefault&&a(b).data("selected",!0),v._set.apply(this,arguments)};var w=null,x=function(){try{return new Event("change"),!0}catch(a){return!1}}();a.fn.triggerNative=function(a){var b,c=this[0];c.dispatchEvent?(x?b=new Event(a,{bubbles:!0}):(b=document.createEvent("Event")).initEvent(a,!0,!1),c.dispatchEvent(b)):c.fireEvent?((b=document.createEventObject()).eventType=a,c.fireEvent("on"+a,b)):this.trigger(a)};var y,z,A,B,C,D={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},E=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,F=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g"),G=(y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=function(a){return y[a]},A="(?:"+Object.keys(y).join("|")+")",B=RegExp(A),C=RegExp(A,"g"),function(a){return a=null==a?"":""+a,B.test(a)?a.replace(C,z):a}),H={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},I=27,J=13,K=32,L=9,M=38,N=40,O={success:!1,major:"3"};try{O.full=(a.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),O.major=O.full[0],O.success=!0}catch(l){}var P=0,Q=".bs.select",R={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},S={MENU:"."+R.MENU},T={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};T.a.setAttribute("role","option"),T.subtext.className="text-muted",T.text=T.span.cloneNode(!1),T.text.className="text",T.checkMark=T.span.cloneNode(!1);var U=new RegExp(M+"|"+N),V=new RegExp("^"+L+"$|"+I),W=function(a,b,c){var d=T.li.cloneNode(!1);return a&&(1===a.nodeType||11===a.nodeType?d.appendChild(a):d.innerHTML=a),void 0!==b&&""!==b&&(d.className=b),null!=c&&d.classList.add("optgroup-"+c),d},X=function(a,b,c){var d=T.a.cloneNode(!0);return a&&(11===a.nodeType?d.appendChild(a):d.insertAdjacentHTML("beforeend",a)),void 0!==b&&""!==b&&(d.className=b),"4"===O.major&&d.classList.add("dropdown-item"),c&&d.setAttribute("style",c),d},Y=function(a,b){var c,d,e=T.text.cloneNode(!1);if(a.content)e.innerHTML=a.content;else{if(e.textContent=a.text,a.icon){var f=T.whitespace.cloneNode(!1);(d=(!0===b?T.i:T.span).cloneNode(!1)).className=a.iconBase+" "+a.icon,T.fragment.appendChild(d),T.fragment.appendChild(f)}a.subtext&&((c=T.subtext.cloneNode(!1)).textContent=a.subtext,e.appendChild(c))}if(!0===b)for(;0<e.childNodes.length;)T.fragment.appendChild(e.childNodes[0]);else T.fragment.appendChild(e);return T.fragment},Z=function(a){var b,c,d=T.text.cloneNode(!1);if(d.innerHTML=a.label,a.icon){var e=T.whitespace.cloneNode(!1);(c=T.span.cloneNode(!1)).className=a.iconBase+" "+a.icon,T.fragment.appendChild(c),T.fragment.appendChild(e)}return a.subtext&&((b=T.subtext.cloneNode(!1)).textContent=a.subtext,d.appendChild(b)),T.fragment.appendChild(d),T.fragment},$=function(b,c){var d=this;v.useDefault||(a.valHooks.select.set=v._set,v.useDefault=!0),this.$element=a(b),this.$newElement=null,this.$button=null,this.$menu=null,this.options=c,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){d.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var e=this.options.windowPadding;"number"==typeof e&&(this.options.windowPadding=[e,e,e,e]),this.val=$.prototype.val,this.render=$.prototype.render,this.refresh=$.prototype.refresh,this.setStyle=$.prototype.setStyle,this.selectAll=$.prototype.selectAll,this.deselectAll=$.prototype.deselectAll,this.destroy=$.prototype.destroy,this.remove=$.prototype.remove,this.show=$.prototype.show,this.hide=$.prototype.hide,this.init()};$.VERSION="1.13.9",$.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:R.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:R.ICONBASE,tickIcon:R.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:l},$.prototype={constructor:$,init:function(){var a=this,b=this.$element.attr("id");this.selectId=P++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(S.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(R.MENURIGHT),void 0!==b&&this.$button.attr("data-id",b),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+Q,function(){if(a.isVirtual()){var b=a.$menuInner[0],c=b.firstChild.cloneNode(!1);b.replaceChild(c,b.firstChild),b.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(b){a.$menuInner.attr("aria-expanded",!1),a.$element.trigger("hide"+Q,b)},"hidden.bs.dropdown":function(b){a.$element.trigger("hidden"+Q,b)},"show.bs.dropdown":function(b){a.$menuInner.attr("aria-expanded",!0),a.$element.trigger("show"+Q,b)},"shown.bs.dropdown":function(b){a.$element.trigger("shown"+Q,b)}}),a.$element[0].hasAttribute("required")&&this.$element.on("invalid"+Q,function(){a.$button[0].classList.add("bs-invalid"),a.$element.on("shown"+Q+".invalid",function(){a.$element.val(a.$element.val()).off("shown"+Q+".invalid")}).on("rendered"+Q,function(){this.validity.valid&&a.$button[0].classList.remove("bs-invalid"),a.$element.off("rendered"+Q)}),a.$button.on("blur"+Q,function(){a.$element.trigger("focus").trigger("blur"),a.$button.off("blur"+Q)})}),setTimeout(function(){a.createLi(),a.$element.trigger("loaded"+Q)})},createDropdown:function(){var b=this.multiple||this.options.showTick?" show-tick":"",c="",d=this.autofocus?" autofocus":"";O.major<4&&this.$element.parent().hasClass("input-group")&&(c=" input-group-btn");var e,f="",g="",h="",i="";return this.options.header&&(f='<div class="'+R.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(g='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+G(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(h='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+R.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+R.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(i='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+R.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),e='<div class="dropdown bootstrap-select'+b+c+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+d+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===O.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+R.MENU+" "+("4"===O.major?"":R.SHOW)+'" role="combobox">'+f+g+h+'<div class="inner '+R.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+R.MENU+" inner "+("4"===O.major?R.SHOW:"")+'"></ul></div>'+i+"</div></div>",a(e)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var a=0;a<this.selectpicker.current.data.length;a++){var b=this.selectpicker.current.data[a],c=!0;"divider"===b.type?(c=!1,b.height=this.sizeInfo.dividerHeight):"optgroup-label"===b.type?(c=!1,b.height=this.sizeInfo.dropdownHeaderHeight):b.height=this.sizeInfo.liHeight,b.disabled&&(c=!1),this.selectpicker.view.canHighlight.push(c),b.position=(0===a?0:this.selectpicker.current.data[a-1].position)+b.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(b,d){function e(a,d){var e,j,k,l,m,n,o,p,q,r,s=f.selectpicker.current.elements.length,t=[],u=!0,v=f.isVirtual();f.selectpicker.view.scrollTop=a,!0===v&&f.sizeInfo.hasScrollBar&&f.$menu[0].offsetWidth>f.sizeInfo.totalMenuWidth&&(f.sizeInfo.menuWidth=f.$menu[0].offsetWidth,f.sizeInfo.totalMenuWidth=f.sizeInfo.menuWidth+f.sizeInfo.scrollBarWidth,f.$menu.css("min-width",f.sizeInfo.menuWidth)),e=Math.ceil(f.sizeInfo.menuInnerHeight/f.sizeInfo.liHeight*1.5),j=Math.round(s/e)||1;for(var w=0;w<j;w++){var x=(w+1)*e;if(w===j-1&&(x=s),t[w]=[w*e+(w?1:0),x],!s)break;void 0===m&&a<=f.selectpicker.current.data[x-1].position-f.sizeInfo.menuInnerHeight&&(m=w)}if(void 0===m&&(m=0),n=[f.selectpicker.view.position0,f.selectpicker.view.position1],k=Math.max(0,m-1),l=Math.min(j-1,m+1),f.selectpicker.view.position0=!1===v?0:Math.max(0,t[k][0])||0,f.selectpicker.view.position1=!1===v?s:Math.min(s,t[l][1])||0,o=n[0]!==f.selectpicker.view.position0||n[1]!==f.selectpicker.view.position1,void 0!==f.activeIndex&&(h=f.selectpicker.main.elements[f.prevActiveIndex],i=f.selectpicker.main.elements[f.activeIndex],g=f.selectpicker.main.elements[f.selectedIndex],d&&(f.activeIndex!==f.selectedIndex&&i&&i.length&&(i.classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active")),f.activeIndex=void 0),f.activeIndex&&f.activeIndex!==f.selectedIndex&&g&&g.length&&(g.classList.remove("active"),g.firstChild&&g.firstChild.classList.remove("active"))),void 0!==f.prevActiveIndex&&f.prevActiveIndex!==f.activeIndex&&f.prevActiveIndex!==f.selectedIndex&&h&&h.length&&(h.classList.remove("active"),h.firstChild&&h.firstChild.classList.remove("active")),(d||o)&&(p=f.selectpicker.view.visibleElements?f.selectpicker.view.visibleElements.slice():[],f.selectpicker.view.visibleElements=!1===v?f.selectpicker.current.elements:f.selectpicker.current.elements.slice(f.selectpicker.view.position0,f.selectpicker.view.position1),f.setOptionStatus(),(b||!1===v&&d)&&(q=p,r=f.selectpicker.view.visibleElements,u=!(q.length===r.length&&q.every(function(a,b){return a===r[b]}))),(d||!0===v)&&u)){var y,z,A=f.$menuInner[0],B=document.createDocumentFragment(),C=A.firstChild.cloneNode(!1),D=f.selectpicker.view.visibleElements,E=[];A.replaceChild(C,A.firstChild),w=0;for(var F=D.length;w<F;w++){var G,H,I=D[w];f.options.sanitize&&(G=I.lastChild)&&(H=f.selectpicker.current.data[w+f.selectpicker.view.position0])&&H.content&&!H.sanitized&&(E.push(G),H.sanitized=!0),B.appendChild(I)}f.options.sanitize&&E.length&&c(E,f.options.whiteList,f.options.sanitizeFn),!0===v&&(y=0===f.selectpicker.view.position0?0:f.selectpicker.current.data[f.selectpicker.view.position0-1].position,z=f.selectpicker.view.position1>s-1?0:f.selectpicker.current.data[s-1].position-f.selectpicker.current.data[f.selectpicker.view.position1-1].position,A.firstChild.style.marginTop=y+"px",A.firstChild.style.marginBottom=z+"px"),A.firstChild.appendChild(B)}if(f.prevActiveIndex=f.activeIndex,f.options.liveSearch){if(b&&d){var J,K=0;f.selectpicker.view.canHighlight[K]||(K=1+f.selectpicker.view.canHighlight.slice(1).indexOf(!0)),J=f.selectpicker.view.visibleElements[K],f.selectpicker.view.currentActive&&(f.selectpicker.view.currentActive.classList.remove("active"),f.selectpicker.view.currentActive.firstChild&&f.selectpicker.view.currentActive.firstChild.classList.remove("active")),J&&(J.classList.add("active"),J.firstChild&&J.firstChild.classList.add("active")),f.activeIndex=(f.selectpicker.current.data[K]||{}).index}}else f.$menuInner.trigger("focus")}d=d||0;var f=this;this.selectpicker.current=b?this.selectpicker.search:this.selectpicker.main;var g,h,i=[];this.setPositionData(),e(d,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(a,b){f.noScroll||e(this.scrollTop,b),f.noScroll=!1}),a(window).off("resize"+Q+"."+this.selectId+".createView").on("resize"+Q+"."+this.selectId+".createView",function(){f.$newElement.hasClass(R.SHOW)&&e(f.$menuInner[0].scrollTop)})},setPlaceholder:function(){var b=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),b=!0;var c=this.$element[0],d=!1,e=!this.selectpicker.view.titleOption.parentNode;e&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",d=void 0===a(c.options[c.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(e||0!==this.selectpicker.view.titleOption.index)&&c.insertBefore(this.selectpicker.view.titleOption,c.firstChild),d&&(c.selectedIndex=0)}return b},createLi:function(){function a(a){var b=h[h.length-1];b&&"divider"===b.type&&(b.optID||a.optID)||((a=a||{}).type="divider",g.push(W(!1,R.DIVIDER,a.optID?a.optID+"div":void 0)),h.push(a))}function b(b,c){if((c=c||{}).divider="true"===b.getAttribute("data-divider"),c.divider)a({optID:c.optID});else{var f=h.length,j=b.style.cssText,k=j?G(j):"",l=(b.className||"")+(c.optgroupClass||"");c.optID&&(l="opt "+l),c.text=b.textContent,c.content=b.getAttribute("data-content"),c.tokens=b.getAttribute("data-tokens"),c.subtext=b.getAttribute("data-subtext"),c.icon=b.getAttribute("data-icon"),c.iconBase=e;var m=Y(c);g.push(W(X(m,l,k),"",c.optID)),b.liIndex=f,c.display=c.content||c.text,c.type="option",c.index=f,c.option=b,c.disabled=c.disabled||b.disabled,h.push(c);var n=0;c.display&&(n+=c.display.length),c.subtext&&(n+=c.subtext.length),c.icon&&(n+=1),i<n&&(i=n,d.selectpicker.view.widestOption=g[g.length-1])}}function c(c,d){var i=d[c],k=d[c-1],l=d[c+1],m=i.querySelectorAll("option"+f);if(m.length){var n,o,p={label:G(i.label),subtext:i.getAttribute("data-subtext"),icon:i.getAttribute("data-icon"),iconBase:e},q=" "+(i.className||"");j++,k&&a({optID:j});var r=Z(p);g.push(W(r,"dropdown-header"+q,j)),h.push({display:p.label,subtext:p.subtext,type:"optgroup-label",optID:j});for(var s=0,t=m.length;s<t;s++){var u=m[s];0===s&&(o=(n=h.length-1)+t),b(u,{headerIndex:n,lastIndex:o,optID:j,optgroupClass:q,disabled:i.disabled})}l&&a({optID:j})}}var d=this,e=this.options.iconBase,f=':not([hidden]):not([data-hidden="true"])',g=[],h=[],i=0,j=0,k=this.setPlaceholder()?1:0;this.options.hideDisabled&&(f+=":not(:disabled)"),!d.options.showTick&&!d.multiple||T.checkMark.parentNode||(T.checkMark.className=e+" "+d.options.tickIcon+" check-mark",T.a.appendChild(T.checkMark));for(var l=this.$element[0].querySelectorAll("select > *"+f),m=l.length;k<m;k++){var n=l[k];"OPTGROUP"!==n.tagName?b(n,{}):c(k,l)}this.selectpicker.main.elements=g,this.selectpicker.main.data=h,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var a,b,d=this,e=this.$element[0].selectedOptions,f=e.length,g=this.$button[0],h=g.querySelector(".filter-option-inner-inner"),i=document.createTextNode(this.options.multipleSeparator),j=T.fragment.cloneNode(!1),k=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)j=Y({text:this.options.title},!0);else if((a=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<f)&&(a=1<(b=this.options.selectedTextFormat.split(">")).length&&f>b[1]||1===b.length&&2<=f),!1===a){for(var l=0;l<f&&l<50;l++){var m=e[l],n={},o={content:m.getAttribute("data-content"),subtext:m.getAttribute("data-subtext"),icon:m.getAttribute("data-icon")};this.multiple&&0<l&&j.appendChild(i.cloneNode(!1)),m.title?n.text=m.title:o.content&&d.options.showContent?(n.content=o.content.toString(),k=!0):(d.options.showIcon&&(n.icon=o.icon,n.iconBase=this.options.iconBase),d.options.showSubtext&&!d.multiple&&o.subtext&&(n.subtext=" "+o.subtext),n.text=m.textContent.trim()),j.appendChild(Y(n,!0))}49<f&&j.appendChild(document.createTextNode("..."))}else{var p=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(p+=":not(:disabled)");var q=this.$element[0].querySelectorAll("select > option"+p+", optgroup"+p+" option"+p).length,r="function"==typeof this.options.countSelectedText?this.options.countSelectedText(f,q):this.options.countSelectedText;j=Y({text:r.replace("{0}",f.toString()).replace("{1}",q.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),j.childNodes.length||(j=Y({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),g.title=j.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&k&&c([j],d.options.whiteList,d.options.sanitizeFn),h.innerHTML="",h.appendChild(j),O.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var s=g.querySelector(".filter-expand"),t=h.cloneNode(!0);t.className="filter-expand",s?g.replaceChild(t,s):g.appendChild(t)}this.$element.trigger("rendered"+Q)},setStyle:function(a,b){var c,d=this.$button[0],e=this.$newElement[0],f=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),O.major<4&&(e.classList.add("bs3"),e.parentNode.classList.contains("input-group")&&(e.previousElementSibling||e.nextElementSibling)&&(e.previousElementSibling||e.nextElementSibling).classList.contains("input-group-addon")&&e.classList.add("bs3-has-addon")),c=a?a.trim():f,"add"==b?c&&d.classList.add.apply(d.classList,c.split(" ")):"remove"==b?c&&d.classList.remove.apply(d.classList,c.split(" ")):(f&&d.classList.remove.apply(d.classList,f.split(" ")),c&&d.classList.add.apply(d.classList,c.split(" ")))},liHeight:function(b){if(b||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("ul"),h=document.createElement("li"),i=document.createElement("li"),j=document.createElement("li"),k=document.createElement("a"),l=document.createElement("span"),m=this.options.header&&0<this.$menu.find("."+R.POPOVERHEADER).length?this.$menu.find("."+R.POPOVERHEADER)[0].cloneNode(!0):null,n=this.options.liveSearch?document.createElement("div"):null,o=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,q=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",k.className="dropdown-item "+(q?q.className:""),c.className=this.$menu[0].parentNode.className+" "+R.SHOW,c.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(d.style.minWidth=0),d.className=R.MENU+" "+R.SHOW,e.className="inner "+R.SHOW,g.className=R.MENU+" inner "+("4"===O.major?R.SHOW:""),h.className=R.DIVIDER,i.className="dropdown-header",l.appendChild(document.createTextNode("​")),k.appendChild(l),j.appendChild(k),i.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&g.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),g.appendChild(j),g.appendChild(h),g.appendChild(i),m&&d.appendChild(m),n){var r=document.createElement("input");n.className="bs-searchbox",r.className="form-control",n.appendChild(r),d.appendChild(n)}o&&d.appendChild(o),e.appendChild(g),d.appendChild(e),p&&d.appendChild(p),c.appendChild(d),document.body.appendChild(c);var s,t=j.offsetHeight,u=i?i.offsetHeight:0,v=m?m.offsetHeight:0,w=n?n.offsetHeight:0,x=o?o.offsetHeight:0,y=p?p.offsetHeight:0,z=a(h).outerHeight(!0),A=!!window.getComputedStyle&&window.getComputedStyle(d),B=d.offsetWidth,C=A?null:a(d),D={vert:f(A?A.paddingTop:C.css("paddingTop"))+f(A?A.paddingBottom:C.css("paddingBottom"))+f(A?A.borderTopWidth:C.css("borderTopWidth"))+f(A?A.borderBottomWidth:C.css("borderBottomWidth")),horiz:f(A?A.paddingLeft:C.css("paddingLeft"))+f(A?A.paddingRight:C.css("paddingRight"))+f(A?A.borderLeftWidth:C.css("borderLeftWidth"))+f(A?A.borderRightWidth:C.css("borderRightWidth"))},E={vert:D.vert+f(A?A.marginTop:C.css("marginTop"))+f(A?A.marginBottom:C.css("marginBottom"))+2,horiz:D.horiz+f(A?A.marginLeft:C.css("marginLeft"))+f(A?A.marginRight:C.css("marginRight"))+2};e.style.overflowY="scroll",s=d.offsetWidth-B,document.body.removeChild(c),this.sizeInfo.liHeight=t,this.sizeInfo.dropdownHeaderHeight=u,this.sizeInfo.headerHeight=v,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=x,this.sizeInfo.doneButtonHeight=y,this.sizeInfo.dividerHeight=z,this.sizeInfo.menuPadding=D,this.sizeInfo.menuExtras=E,this.sizeInfo.menuWidth=B,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=s,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var b,c=a(window),d=this.$newElement.offset(),e=a(this.options.container);this.options.container&&e.length&&!e.is("body")?((b=e.offset()).top+=parseInt(e.css("borderTopWidth")),b.left+=parseInt(e.css("borderLeftWidth"))):b={top:0,left:0};var f=this.options.windowPadding;this.sizeInfo.selectOffsetTop=d.top-b.top-c.scrollTop(),this.sizeInfo.selectOffsetBot=c.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-b.top-f[2],this.sizeInfo.selectOffsetLeft=d.left-b.left-c.scrollLeft(),this.sizeInfo.selectOffsetRight=c.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-b.left-f[1],this.sizeInfo.selectOffsetTop-=f[0],this.sizeInfo.selectOffsetLeft-=f[3]},setMenuSize:function(a){this.getSelectPosition();var b,c,d,e,f,g,h,i=this.sizeInfo.selectWidth,j=this.sizeInfo.liHeight,k=this.sizeInfo.headerHeight,l=this.sizeInfo.searchHeight,m=this.sizeInfo.actionsHeight,n=this.sizeInfo.doneButtonHeight,o=this.sizeInfo.dividerHeight,p=this.sizeInfo.menuPadding,q=0;if(this.options.dropupAuto&&(h=j*this.selectpicker.current.elements.length+p.vert,this.$newElement.toggleClass(R.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&h+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)e=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,c=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,d=e+k+l+m+n,g=Math.max(e-p.vert,0),this.$newElement.hasClass(R.DROPUP)&&(c=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),b=(f=c)-k-l-m-n-p.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){
for(var r=0;r<this.options.size;r++)"divider"===this.selectpicker.current.data[r].type&&q++;b=(c=j*this.options.size+q*o+p.vert)-p.vert,f=c+k+l+m+n,d=g=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(R.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-i),this.$menu.css({"max-height":f+"px",overflow:"hidden","min-height":d+"px"}),this.$menuInner.css({"max-height":b+"px","overflow-y":"auto","min-height":g+"px"}),this.sizeInfo.menuInnerHeight=Math.max(b,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(b){if(this.liHeight(b),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var c,d=this,e=a(window),f=0;if(this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return d.setMenuSize()}),"auto"===this.options.size?e.off("resize"+Q+"."+this.selectId+".setMenuSize scroll"+Q+"."+this.selectId+".setMenuSize").on("resize"+Q+"."+this.selectId+".setMenuSize scroll"+Q+"."+this.selectId+".setMenuSize",function(){return d.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&e.off("resize"+Q+"."+this.selectId+".setMenuSize scroll"+Q+"."+this.selectId+".setMenuSize"),b)f=this.$menuInner[0].scrollTop;else if(!d.multiple){var g=d.$element[0];"number"==typeof(c=(g.options[g.selectedIndex]||{}).liIndex)&&!1!==d.options.size&&(f=(f=d.sizeInfo.liHeight*c)-d.sizeInfo.menuInnerHeight/2+d.sizeInfo.liHeight/2)}d.createView(!1,f)}},setWidth:function(){var a=this;"auto"===this.options.width?requestAnimationFrame(function(){a.$menu.css("min-width","0"),a.$element.on("loaded"+Q,function(){a.liHeight(),a.setMenuSize();var b=a.$newElement.clone().appendTo("body"),c=b.css("width","auto").children("button").outerWidth();b.remove(),a.sizeInfo.selectWidth=Math.max(a.sizeInfo.totalMenuWidth,c),a.$newElement.css("width",a.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var b,c,d,e=this,f=a(this.options.container),g=function(g){var h={},i=e.options.display||!!a.fn.dropdown.Constructor.Default&&a.fn.dropdown.Constructor.Default.display;e.$bsContainer.addClass(g.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(R.DROPUP,g.hasClass(R.DROPUP)),b=g.offset(),f.is("body")?c={top:0,left:0}:((c=f.offset()).top+=parseInt(f.css("borderTopWidth"))-f.scrollTop(),c.left+=parseInt(f.css("borderLeftWidth"))-f.scrollLeft()),d=g.hasClass(R.DROPUP)?0:g[0].offsetHeight,(O.major<4||"static"===i)&&(h.top=b.top-c.top+d,h.left=b.left-c.left),h.width=g[0].offsetWidth,e.$bsContainer.css(h)};this.$button.on("click.bs.dropdown.data-api",function(){e.isDisabled()||(g(e.$newElement),e.$bsContainer.appendTo(e.options.container).toggleClass(R.SHOW,!e.$button.hasClass(R.SHOW)).append(e.$menu))}),a(window).off("resize"+Q+"."+this.selectId+" scroll"+Q+"."+this.selectId).on("resize"+Q+"."+this.selectId+" scroll"+Q+"."+this.selectId,function(){e.$newElement.hasClass(R.SHOW)&&g(e.$newElement)}),this.$element.on("hide"+Q,function(){e.$menu.data("height",e.$menu.height()),e.$bsContainer.detach()})},setOptionStatus:function(){var a=this;if(a.noScroll=!1,a.selectpicker.view.visibleElements&&a.selectpicker.view.visibleElements.length)for(var b=0;b<a.selectpicker.view.visibleElements.length;b++){var c=a.selectpicker.current.data[b+a.selectpicker.view.position0],d=c.option;d&&(a.setDisabled(c.index,c.disabled),a.setSelected(c.index,d.selected))}},setSelected:function(a,b){var c,d,e=this.selectpicker.main.elements[a],f=this.selectpicker.main.data[a],g=void 0!==this.activeIndex,h=this.activeIndex===a||b&&!this.multiple&&!g;f.selected=b,d=e.firstChild,b&&(this.selectedIndex=a),e.classList.toggle("selected",b),e.classList.toggle("active",h),h&&(this.selectpicker.view.currentActive=e,this.activeIndex=a),d&&(d.classList.toggle("selected",b),d.classList.toggle("active",h),d.setAttribute("aria-selected",b)),h||!g&&b&&void 0!==this.prevActiveIndex&&((c=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),c.firstChild&&c.firstChild.classList.remove("active"))},setDisabled:function(a,b){var c,d=this.selectpicker.main.elements[a];this.selectpicker.main.data[a].disabled=b,c=d.firstChild,d.classList.toggle(R.DISABLED,b),c&&("4"===O.major&&c.classList.toggle(R.DISABLED,b),c.setAttribute("aria-disabled",b),b?c.setAttribute("tabindex",-1):c.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement[0].classList.add(R.DISABLED),this.$button.addClass(R.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(R.DISABLED)&&(this.$newElement[0].classList.remove(R.DISABLED),this.$button.removeClass(R.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!a.isDisabled()})},togglePlaceholder:function(){var a=this.$element[0],b=a.selectedIndex,c=-1===b;c||a.options[b].value||(c=!0),this.$button.toggleClass("bs-placeholder",c)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){function b(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function c(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?b():requestAnimationFrame(c)}var e=this,f=a(document);f.data("spaceSelect",!1),this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&f.data("spaceSelect")&&(a.preventDefault(),f.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<O.major&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){e.$newElement.hasClass(R.SHOW)||e.setSize()}),this.$element.on("shown"+Q,function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),3<O.major?requestAnimationFrame(c):b()}),this.$menuInner.on("click","li a",function(b,c){var f=a(this),g=e.isVirtual()?e.selectpicker.view.position0:0,h=e.selectpicker.current.data[f.parent().index()+g],i=h.index,j=d(e.$element[0]),k=e.$element.prop("selectedIndex"),l=!0;if(e.multiple&&1!==e.options.maxOptions&&b.stopPropagation(),b.preventDefault(),!e.isDisabled()&&!f.parent().hasClass(R.DISABLED)){var m=e.$element.find("option"),n=h.option,o=a(n),p=n.selected,q=o.parent("optgroup"),r=q.find("option"),s=e.options.maxOptions,t=q.data("maxOptions")||!1;if(i===e.activeIndex&&(c=!0),c||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(n.selected=!p,e.setSelected(i,!p),f.trigger("blur"),!1!==s||!1!==t){var u=s<m.filter(":selected").length,v=t<q.find("option:selected").length;if(s&&u||t&&v)if(s&&1==s){m.prop("selected",!1),o.prop("selected",!0);for(var x=0;x<m.length;x++)e.setSelected(x,!1);e.setSelected(i,!0)}else if(t&&1==t){for(q.find("option:selected").prop("selected",!1),o.prop("selected",!0),x=0;x<r.length;x++)n=r[x],e.setSelected(m.index(n),!1);e.setSelected(i,!0)}else{var y="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,z="function"==typeof y?y(s,t):y,A=z[0].replace("{n}",s),B=z[1].replace("{n}",t),C=a('<div class="notify"></div>');z[2]&&(A=A.replace("{var}",z[2][1<s?0:1]),B=B.replace("{var}",z[2][1<t?0:1])),o.prop("selected",!1),e.$menu.append(C),s&&u&&(C.append(a("<div>"+A+"</div>")),l=!1,e.$element.trigger("maxReached"+Q)),t&&v&&(C.append(a("<div>"+B+"</div>")),l=!1,e.$element.trigger("maxReachedGrp"+Q)),setTimeout(function(){e.setSelected(i,!1)},10),C.delay(750).fadeOut(300,function(){a(this).remove()})}}}else m.prop("selected",!1),n.selected=!0,e.setSelected(i,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),l&&(j!=d(e.$element[0])&&e.multiple||k!=e.$element.prop("selectedIndex")&&!e.multiple)&&(w=[n.index,o.prop("selected"),j],e.$element.triggerNative("change"))}}),this.$menu.on("click","li."+R.DISABLED+" a, ."+R.POPOVERHEADER+", ."+R.POPOVERHEADER+" :not(.close)",function(b){b.currentTarget==this&&(b.preventDefault(),b.stopPropagation(),e.options.liveSearch&&!a(b.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")}),this.$menu.on("click","."+R.POPOVERHEADER+" .close",function(){e.$button.trigger("click")}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(b){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),b.preventDefault(),b.stopPropagation(),a(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.on("change"+Q,function(){e.render(),e.$element.trigger("changed"+Q,w),w=null}).on("focus"+Q,function(){e.options.mobile||e.$button.trigger("focus")})},liveSearchListener:function(){var a=this,b=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){a.$searchbox.val()&&a.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var c=a.$searchbox.val();if(a.selectpicker.search.elements=[],a.selectpicker.search.data=[],c){var d=[],f=c.toUpperCase(),g={},i=[],j=a._searchStyle(),k=a.options.liveSearchNormalize;k&&(f=h(f)),a._$lisSelected=a.$menuInner.find(".selected");for(var l=0;l<a.selectpicker.main.data.length;l++){var m=a.selectpicker.main.data[l];g[l]||(g[l]=e(m,f,j,k)),g[l]&&void 0!==m.headerIndex&&-1===i.indexOf(m.headerIndex)&&(0<m.headerIndex&&(g[m.headerIndex-1]=!0,i.push(m.headerIndex-1)),g[m.headerIndex]=!0,i.push(m.headerIndex),g[m.lastIndex+1]=!0),g[l]&&"optgroup-label"!==m.type&&i.push(l)}l=0;for(var n=i.length;l<n;l++){var o=i[l],p=i[l-1],q=(m=a.selectpicker.main.data[o],a.selectpicker.main.data[p]);("divider"!==m.type||"divider"===m.type&&q&&"divider"!==q.type&&n-1!==l)&&(a.selectpicker.search.data.push(m),d.push(a.selectpicker.main.elements[o]))}a.activeIndex=void 0,a.noScroll=!0,a.$menuInner.scrollTop(0),a.selectpicker.search.elements=d,a.createView(!0),d.length||(b.className="no-results",b.innerHTML=a.options.noneResultsText.replace("{0}",'"'+G(c)+'"'),a.$menuInner[0].firstChild.appendChild(b))}else a.$menuInner.scrollTop(0),a.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(a){if(void 0===a)return this.$element.val();var b=d(this.$element[0]);return w=[null,null,b],this.$element.val(a).trigger("changed"+Q,w),this.render(),w=null,this.$element},changeAll:function(a){if(this.multiple){void 0===a&&(a=!0);var b=this.$element[0],c=0,e=0,f=d(b);b.classList.add("bs-select-hidden");for(var g=0,h=this.selectpicker.current.elements.length;g<h;g++){var i=this.selectpicker.current.data[g],j=i.option;j&&!i.disabled&&"divider"!==i.type&&(i.selected&&c++,(j.selected=a)&&e++)}b.classList.remove("bs-select-hidden"),c!==e&&(this.setOptionStatus(),this.togglePlaceholder(),w=[null,null,f],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(b){var c,d,f,g,h,i=a(this),j=i.hasClass("dropdown-toggle"),k=(j?i.closest(".dropdown"):i.closest(S.MENU)).data("this"),l=k.findLis(),m=!1,n=b.which===L&&!j&&!k.options.selectOnTab,o=U.test(b.which)||n,p=k.$menuInner[0].scrollTop,q=k.isVirtual(),r=!0===q?k.selectpicker.view.position0:0;if(!(d=k.$newElement.hasClass(R.SHOW))&&(o||48<=b.which&&b.which<=57||96<=b.which&&b.which<=105||65<=b.which&&b.which<=90)&&(k.$button.trigger("click.bs.dropdown.data-api"),k.options.liveSearch))k.$searchbox.trigger("focus");else{if(b.which===I&&d&&(b.preventDefault(),k.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),o){if(!l.length)return;void 0===(c=!0===q?l.index(l.filter(".active")):k.activeIndex)&&(c=-1),-1!==c&&((f=k.selectpicker.current.elements[c+r]).classList.remove("active"),f.firstChild&&f.firstChild.classList.remove("active")),b.which===M?(-1!==c&&c--,c+r<0&&(c+=l.length),k.selectpicker.view.canHighlight[c+r]||-1===(c=k.selectpicker.view.canHighlight.slice(0,c+r).lastIndexOf(!0)-r)&&(c=l.length-1)):(b.which===N||n)&&(++c+r>=k.selectpicker.view.canHighlight.length&&(c=0),k.selectpicker.view.canHighlight[c+r]||(c=c+1+k.selectpicker.view.canHighlight.slice(c+r+1).indexOf(!0))),b.preventDefault();var s=r+c;b.which===M?0===r&&c===l.length-1?(k.$menuInner[0].scrollTop=k.$menuInner[0].scrollHeight,s=k.selectpicker.current.elements.length-1):m=(h=(g=k.selectpicker.current.data[s]).position-g.height)<p:(b.which===N||n)&&(0===c?s=k.$menuInner[0].scrollTop=0:m=p<(h=(g=k.selectpicker.current.data[s]).position-k.sizeInfo.menuInnerHeight)),(f=k.selectpicker.current.elements[s])&&(f.classList.add("active"),f.firstChild&&f.firstChild.classList.add("active")),k.activeIndex=k.selectpicker.current.data[s].index,k.selectpicker.view.currentActive=f,m&&(k.$menuInner[0].scrollTop=h),k.options.liveSearch?k.$searchbox.trigger("focus"):i.trigger("focus")}else if(!i.is("input")&&!V.test(b.which)||b.which===K&&k.selectpicker.keydown.keyHistory){var t,u,v=[];b.preventDefault(),k.selectpicker.keydown.keyHistory+=H[b.which],k.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(k.selectpicker.keydown.resetKeyHistory.cancel),k.selectpicker.keydown.resetKeyHistory.cancel=k.selectpicker.keydown.resetKeyHistory.start(),u=k.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(u)&&(u=u.charAt(0));for(var w=0;w<k.selectpicker.current.data.length;w++){var x=k.selectpicker.current.data[w];e(x,u,"startsWith",!0)&&k.selectpicker.view.canHighlight[w]&&v.push(x.index)}if(v.length){var y=0;l.removeClass("active").find("a").removeClass("active"),1===u.length&&(-1===(y=v.indexOf(k.activeIndex))||y===v.length-1?y=0:y++),t=v[y],m=0<p-(g=k.selectpicker.main.data[t]).position?(h=g.position-g.height,!0):(h=g.position-k.sizeInfo.menuInnerHeight,g.position>p+k.sizeInfo.menuInnerHeight),(f=k.selectpicker.main.elements[t]).classList.add("active"),f.firstChild&&f.firstChild.classList.add("active"),k.activeIndex=v[y],f.firstChild.focus(),m&&(k.$menuInner[0].scrollTop=h),i.trigger("focus")}}d&&(b.which===K&&!k.selectpicker.keydown.keyHistory||b.which===J||b.which===L&&k.options.selectOnTab)&&(b.which!==K&&b.preventDefault(),k.options.liveSearch&&b.which===K||(k.$menuInner.find(".active a").trigger("click",!0),i.trigger("focus"),k.options.liveSearch||(b.preventDefault(),a(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var b=a.extend({},this.options,this.$element.data());this.options=b,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+Q)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(Q).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),a(window).off(Q+"."+this.selectId)}};var _=a.fn.selectpicker;a.fn.selectpicker=i,a.fn.selectpicker.Constructor=$,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=_,this},a(document).off("keydown.bs.dropdown.data-api").on("keydown"+Q,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',$.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(a){a.stopPropagation()}),a(window).on("load"+Q+".data-api",function(){a(".selectpicker").each(function(){var b=a(this);i.call(b,b.data())})})}(a)});