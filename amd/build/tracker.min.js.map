{"version":3,"file":"tracker.min.js","sources":["../src/tracker.js"],"sourcesContent":["\n\n\ndefine(['jquery', 'core/config', 'core/str', 'core/log'], function($, cfg, str, log) {\n\n    var moodletracker = {\n\n        strs: [],\n\n        init: function() {\n\n            var stringdefs = [\n                {key: 'showccs', component: 'tracker'}, // 0\n                {key: 'hideccs', component: 'tracker'}, // 1\n                {key: 'showcomments', component: 'tracker'}, // 2\n                {key: 'hidecomments', component: 'tracker'}, // 3\n                {key: 'showdependancies', component: 'tracker'}, // 4\n                {key: 'hidedependancies', component: 'tracker'}, // 5\n                {key: 'showhistory', component: 'tracker'}, // 6\n                {key: 'hidehistory', component: 'tracker'} // 7\n            ];\n\n            str.get_strings(stringdefs).done(function(s) {\n                moodletracker.strs = s;\n            });\n\n            $('.watch-handle').off('click');\n            $('.watch-handle').bind('click', this.togglewatch);\n            $('#tracker-issuehistory-handle').off('click');\n            $('#tracker-issuehistory-handle').bind('click', this.togglehistory);\n            $('#tracker-issueccs-handle').off('click');\n            $('#tracker-issueccs-handle').bind('click', this.toggleccs);\n            $('#tracker-issuedependancies-handle').off('click');\n            $('#tracker-issuedependancies-handle').bind('click', this.toggledependancies);\n            $('#tracker-issuecomments-handle').off('click');\n            $('#tracker-issuecomments-handle').bind('click', this.togglecomments);\n\n            log.debug('AMD Tracker initialized');\n        },\n\n        togglehistory: function (e) {\n            var historydiv = $('#tracker-issuehistory');\n            var historylink = $('#tracker-issuehistory-handle');\n            if (historydiv.css('display') === 'block') {\n                historydiv.css('display', 'none');\n                historylink.html(moodletracker.strs[6]);\n            } else {\n                historydiv.css('display', 'block');\n                historylink.html(moodletracker.strs[7]);\n            }\n            e.stopPropagation();\n            e.preventDefault();\n        },\n\n        toggleccs: function (e) {\n            var ccsdiv = $('#tracker-issueccs');\n            var ccslink = $('#tracker-issueccs-handle');\n            if (ccsdiv.css('display') === 'block') {\n                ccsdiv.css('display', 'none');\n                ccslink.html(moodletracker.strs[0]);\n            } else {\n                ccsdiv.css('display', 'block');\n                ccslink.html(moodletracker.strs[1]);\n            }\n            e.stopPropagation();\n            e.preventDefault();\n        },\n\n        toggledependancies: function (e) {\n            var dependanciesdiv = $(\"#tracker-issuedependancies\");\n            var dependancieslink = $(\"#tracker-issuedependancies-handle\");\n            if (dependanciesdiv.css('display') === 'block') {\n                dependanciesdiv.css('display', 'none');\n                dependancieslink.html(moodletracker.strs[4]);\n            } else {\n                dependanciesdiv.css('display', 'block');\n                dependancieslink.html(moodletracker.strs[5]);\n            }\n            e.stopPropagation();\n            e.preventDefault();\n        },\n\n        togglecomments: function (e) {\n            var commentdiv = $(\"#tracker-issuecomments\");\n            var commentlink = $(\"#tracker-issuecomments-handle\");\n            if (commentdiv.css('display') === 'block') {\n                commentdiv.css('display', 'none');\n                commentlink.html(moodletracker.strs[2]);\n            } else {\n                commentdiv.css('display', 'block');\n                commentlink.html(moodletracker.strs[3]);\n            }\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    };\n\n    return moodletracker;\n});"],"names":["define","$","cfg","str","log","moodletracker","strs","init","get_strings","key","component","done","s","off","bind","this","togglewatch","togglehistory","toggleccs","toggledependancies","togglecomments","debug","e","historydiv","historylink","css","html","stopPropagation","preventDefault","ccsdiv","ccslink","dependanciesdiv","dependancieslink","commentdiv","commentlink"],"mappings":"AAGAA,6BAAO,CAAC,SAAU,cAAe,WAAY,aAAa,SAASC,EAAGC,IAAKC,IAAKC,SAExEC,cAAgB,CAEhBC,KAAM,GAENC,KAAM,WAaFJ,IAAIK,YAXa,CACb,CAACC,IAAK,UAAWC,UAAW,WAC5B,CAACD,IAAK,UAAWC,UAAW,WAC5B,CAACD,IAAK,eAAgBC,UAAW,WACjC,CAACD,IAAK,eAAgBC,UAAW,WACjC,CAACD,IAAK,mBAAoBC,UAAW,WACrC,CAACD,IAAK,mBAAoBC,UAAW,WACrC,CAACD,IAAK,cAAeC,UAAW,WAChC,CAACD,IAAK,cAAeC,UAAW,aAGRC,MAAK,SAASC,GACtCP,cAAcC,KAAOM,KAGzBX,EAAE,iBAAiBY,IAAI,SACvBZ,EAAE,iBAAiBa,KAAK,QAASC,KAAKC,aACtCf,EAAE,gCAAgCY,IAAI,SACtCZ,EAAE,gCAAgCa,KAAK,QAASC,KAAKE,eACrDhB,EAAE,4BAA4BY,IAAI,SAClCZ,EAAE,4BAA4Ba,KAAK,QAASC,KAAKG,WACjDjB,EAAE,qCAAqCY,IAAI,SAC3CZ,EAAE,qCAAqCa,KAAK,QAASC,KAAKI,oBAC1DlB,EAAE,iCAAiCY,IAAI,SACvCZ,EAAE,iCAAiCa,KAAK,QAASC,KAAKK,gBAEtDhB,IAAIiB,MAAM,4BAGdJ,cAAe,SAAUK,OACjBC,WAAatB,EAAE,yBACfuB,YAAcvB,EAAE,gCACc,UAA9BsB,WAAWE,IAAI,YACfF,WAAWE,IAAI,UAAW,QAC1BD,YAAYE,KAAKrB,cAAcC,KAAK,MAEpCiB,WAAWE,IAAI,UAAW,SAC1BD,YAAYE,KAAKrB,cAAcC,KAAK,KAExCgB,EAAEK,kBACFL,EAAEM,kBAGNV,UAAW,SAAUI,OACbO,OAAS5B,EAAE,qBACX6B,QAAU7B,EAAE,4BACc,UAA1B4B,OAAOJ,IAAI,YACXI,OAAOJ,IAAI,UAAW,QACtBK,QAAQJ,KAAKrB,cAAcC,KAAK,MAEhCuB,OAAOJ,IAAI,UAAW,SACtBK,QAAQJ,KAAKrB,cAAcC,KAAK,KAEpCgB,EAAEK,kBACFL,EAAEM,kBAGNT,mBAAoB,SAAUG,OACtBS,gBAAkB9B,EAAE,8BACpB+B,iBAAmB/B,EAAE,qCACc,UAAnC8B,gBAAgBN,IAAI,YACpBM,gBAAgBN,IAAI,UAAW,QAC/BO,iBAAiBN,KAAKrB,cAAcC,KAAK,MAEzCyB,gBAAgBN,IAAI,UAAW,SAC/BO,iBAAiBN,KAAKrB,cAAcC,KAAK,KAE7CgB,EAAEK,kBACFL,EAAEM,kBAGNR,eAAgB,SAAUE,OAClBW,WAAahC,EAAE,0BACfiC,YAAcjC,EAAE,iCACc,UAA9BgC,WAAWR,IAAI,YACfQ,WAAWR,IAAI,UAAW,QAC1BS,YAAYR,KAAKrB,cAAcC,KAAK,MAEpC2B,WAAWR,IAAI,UAAW,SAC1BS,YAAYR,KAAKrB,cAAcC,KAAK,KAExCgB,EAAEK,kBACFL,EAAEM,0BAIHvB,aACV"}